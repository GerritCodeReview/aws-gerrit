{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "68a797d9_bc840a3f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 47
      },
      "lineNbr": 13,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-10T13:57:53Z",
      "side": 1,
      "message": "What do you mean by this? In what context is it disabled?\n\nDoes this describe in which way multi-site is deployed?",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 13,
        "endChar": 55
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff49044c_c96be852",
        "filename": "/COMMIT_MSG",
        "patchSetId": 47
      },
      "lineNbr": 13,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-10T14:39:08Z",
      "side": 1,
      "message": "According with the code, in `dual primary` topology, `multisite` can be `enabled` or `disabled`:\n\n\n```\ngerrit-publish:\nifeq ($(MULTISITE_ENABLED),true)\n\t$(MAKE) -C ../gerrit gerrit-publish RECIPE\u003ddual-primary PLUGINS\u003d\"$(MULTI_SITE_PLUGINS)\" PLUGINS_LIBS_LINKS\u003d\"$(MULTI_SITE_PLUGINS_LIBS_LINKS)\" MAVEN_LIBS\u003d\"$(HA_SITE_MAVEN_LIBS) $(MULTI_SITE_MAVEN_LIBS)\"\nelse\n\t$(MAKE) -C ../gerrit gerrit-publish RECIPE\u003ddual-primary PLUGINS\u003d\"$(HA_SITE_PLUGINS)\" PLUGINS_LIBS_LINKS\u003d\"$(HA_SITE_PLUGINS_LIBS_LINKS)\" MAVEN_LIBS\u003d\"$(HA_SITE_MAVEN_LIBS)\"\nendif\n```\n\n\nThis change add the `pull-replication plugin` when multisite is disabled. \n\nMaybe my description is a bit messy. Any recommendation?",
      "parentUuid": "68a797d9_bc840a3f",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 13,
        "endChar": 55
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b433a76_b2867a55",
        "filename": "/COMMIT_MSG",
        "patchSetId": 47
      },
      "lineNbr": 13,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-13T08:28:55Z",
      "side": 1,
      "message": "\u003e According with the code, in `dual primary` topology, `multisite` can be `enabled` or `disabled`:\n\u003e \n\u003e This change add the `pull-replication plugin` when multisite is disabled.\n\n\nAh ok, sorry I missed that.\nAny reason why this is the case?\n\n\u003e \n\u003e Maybe my description is a bit messy. Any recommendation?\n\nI think the words you chose now to fill me in are more explanatory.\nSomething like:\n\n```\nNote: \nThis change add the pull-replication plugin when multisite is disabled.\nThis is because...\n```",
      "parentUuid": "ff49044c_c96be852",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 13,
        "endChar": 55
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0df64f8d_d8838da5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 47
      },
      "lineNbr": 13,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-13T08:33:10Z",
      "side": 1,
      "message": "\u003e Any reason why this is the case?\n\nThe idea was to iterate. First change without multisite (simpler) and once we have more knowledge we build the multisite.",
      "parentUuid": "2b433a76_b2867a55",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 13,
        "endChar": 55
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "405c2be6_d295a8ef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 47
      },
      "lineNbr": 13,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-15T19:06:01Z",
      "side": 1,
      "message": "@syntonyze@gmail.com please, have a look at this description. I dont feel very inspired.",
      "parentUuid": "0df64f8d_d8838da5",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 13,
        "endChar": 55
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15a6e73c_778273c7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 47
      },
      "lineNbr": 13,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-17T09:28:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "405c2be6_d295a8ef",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 13,
        "endChar": 55
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6ac8f055_d9f30c6e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 47
      },
      "lineNbr": 0,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-02T16:51:46Z",
      "side": 1,
      "message": "I have changed the description of the commit to mention that the push replication is enabled",
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92385382_2a9c8347",
        "filename": "gerrit/etc/replication.config.template",
        "patchSetId": 47
      },
      "lineNbr": 22,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-10T13:57:53Z",
      "side": 1,
      "message": "Since REPLICATE_ON_STARTUP is set to true, wouldn\u0027t this trigger fetching FROM _FROM_ the replica?\n\nThis is a problem because primary should never fetch from a replica, git transfers should only be fetched FROM replicas.\n\nWould it not be enough to only set the REPLICATE_ON_STARTUP to the replication.config template of the replica only and make sure that the master will never attempt to fetch?",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 27
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e14da6c_a953b220",
        "filename": "gerrit/etc/replication.config.template",
        "patchSetId": 47
      },
      "lineNbr": 22,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-10T14:39:08Z",
      "side": 1,
      "message": "Read my reply above.",
      "parentUuid": "92385382_2a9c8347",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 27
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5195a551_9d393ca0",
        "filename": "gerrit/etc/replication.config.template",
        "patchSetId": 47
      },
      "lineNbr": 22,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-13T08:28:55Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "5e14da6c_a953b220",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 27
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c57d35d_f83af4af",
        "filename": "gerrit/etc/replication.config.template",
        "patchSetId": 47
      },
      "lineNbr": 22,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-15T20:19:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5195a551_9d393ca0",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 27
      },
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6261fffe_7761a566",
        "filename": "gerrit/etc/replication_replica.config.template",
        "patchSetId": 47
      },
      "lineNbr": 7,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-10T13:57:53Z",
      "side": 1,
      "message": "This could be hardcoded to true, all the times.\nSee my comment below.",
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8fe3221_f862884b",
        "filename": "gerrit/etc/replication_replica.config.template",
        "patchSetId": 47
      },
      "lineNbr": 7,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-10T14:39:08Z",
      "side": 1,
      "message": "I created weeks ago a card to address that:\n`Pull replication on startup for primary: false and replica: true (dual-primary, primary-replica)`",
      "parentUuid": "6261fffe_7761a566",
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "957f5b32_3b9565d8",
        "filename": "gerrit/etc/replication_replica.config.template",
        "patchSetId": 47
      },
      "lineNbr": 7,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-03-13T08:28:55Z",
      "side": 1,
      "message": "Do we have a monorail issue for this? or you were planning to do it as part of this?\n\nI think, since we are introducing new code here, we could already introduce the right value?\n\nPerhaps I am missing something, let\u0027s have a chat",
      "parentUuid": "c8fe3221_f862884b",
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e43d818b_e64b128e",
        "filename": "gerrit/etc/replication_replica.config.template",
        "patchSetId": 47
      },
      "lineNbr": 7,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-13T08:33:10Z",
      "side": 1,
      "message": "\u003e Do we have a monorail issue for this? or you were planning to do it as part of this?\n\nNo, I created the card in the kanban dashboard.\n\n\u003eI think, since we are introducing new code here, we could already introduce the right value?\n\nMy first version had this hardcoded to true in the replica (proposed by you) but because the change was getting too many things I thought that maybe we could split this in 2 cards. Maybe we should go back to the initial idea and do everything in this change.",
      "parentUuid": "957f5b32_3b9565d8",
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1ddbe82_268e6e38",
        "filename": "gerrit/etc/replication_replica.config.template",
        "patchSetId": 47
      },
      "lineNbr": 7,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-03-15T19:06:01Z",
      "side": 1,
      "message": "As we spoke, I have hardcoded to `true` when is replica.",
      "parentUuid": "e43d818b_e64b128e",
      "revId": "58e2679b595ed5287825360615d4a62d84827b4e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}