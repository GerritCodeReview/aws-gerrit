# AWS general settings
AWS_PREFIX=gerrit
AWS_REGION=us-east-1
CLUSTER_KEYS=$(AWS_PREFIX)-cluster-keys

# Gerrit version
GERRIT_VERSION=3.1
GERRIT_PATCH=4
GERRIT_BRANCH=stable-$(GERRIT_VERSION)

# Gerrit CI
GERRIT_CI=https://gerrit-ci.gerritforge.com/view/Plugins-$(GERRIT_BRANCH)/job
LAST_BUILD=lastSuccessfulBuild/artifact/bazel-bin/plugins

# Image version
IMAGE_DIR=$(dir $(realpath $(lastword $(MAKEFILE_LIST))))gerrit
HEAD_SHA1=$(shell find $(IMAGE_DIR) -type f -exec cat {} \; | shasum | cut -c 1-20)
IMAGE_TAG=$(GERRIT_VERSION).$(GERRIT_PATCH)-$(HEAD_SHA1)
HAPROXY_IMAGE_DIR=$(dir $(realpath $(lastword $(MAKEFILE_LIST))))haproxy
HAPROXY_HEAD_SHA1=$(shell find $(HAPROXY_IMAGE_DIR) -type f -exec cat {} \; | shasum | cut -c 1-20)
SYSLOG_IMAGE_DIR=$(dir $(realpath $(lastword $(MAKEFILE_LIST))))syslog-sidecar
SYSLOG_HEAD_SHA1=$(shell find $(SYSLOG_IMAGE_DIR) -type f -exec cat {} \; | shasum | cut -c 1-20)
