{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0f383d36_5fcc3c19",
        "filename": "gerrit/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-04-11T09:43:13Z",
      "side": 1,
      "message": "How does the $GERRIT_VERSION.$GERRIT_PATCH relate to the overriding $GERRIT_WAR_URL?\n\nWhat would mean for example to have a\n\nGERRIT_VERSION\u003d3.2\nGERRIT_PATCH\u003d3\nGERRIT_WAR_URL\u003dhttps://gerrit-releases.storage.googleapis.com/gerrit-2.16.27.war\n\nAren\u0027t these two ways of configuring the docker mutually exclusive concepts?",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 66
      },
      "revId": "51e6b841f46129faeb54382f4d048c6dda08e826",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e552f483_593e662f",
        "filename": "gerrit/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-11T09:54:25Z",
      "side": 1,
      "message": "\u003e How does the $GERRIT_VERSION.$GERRIT_PATCH relate to the overriding $GERRIT_WAR_URL?\n\u003e \n\u003e What would mean for example to have a\n\u003e \n\u003e GERRIT_VERSION\u003d3.2\n\u003e GERRIT_PATCH\u003d3\n\u003e GERRIT_WAR_URL\u003dhttps://gerrit-releases.storage.googleapis.com/gerrit-2.16.27.war\n\nThe above settings may not work, because a Gerrit 2.16.27 won\u0027t be compatible with a setup of Gerrit 3.2.3\n\n\u003e Aren\u0027t these two ways of configuring the docker mutually exclusive concepts?\n\nNot mutually exclusive, but certainly need to be compatible, otherwise you would end up overriding a gerrit.war into an unsupported environment.",
      "parentUuid": "0f383d36_5fcc3c19",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 66
      },
      "revId": "51e6b841f46129faeb54382f4d048c6dda08e826",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4bec6d7_38321f1d",
        "filename": "gerrit/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-04-11T10:16:42Z",
      "side": 1,
      "message": "Is there any way we can make it impossible to configure it in an incompatible way?\nCan the version be extracted from the jar, for example? or some other way?\n\nIf not, I think we should at least document that GERRIT_VERSION GERRIT_PATCH and GERRIT_WAR_URL need to be pointing to the same version.\n\nThe first two will be used to choose the environment and the latter for the actual WAR.\n\nWDYT?",
      "parentUuid": "e552f483_593e662f",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 66
      },
      "revId": "51e6b841f46129faeb54382f4d048c6dda08e826",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69e7ae5a_0e09668b",
        "filename": "gerrit/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-04-11T10:25:02Z",
      "side": 1,
      "message": "\u003e Can the version be extracted from the jar, for example? or some other way?\n\nThere is version command:\n\n  $ java -jar bazel-bin/gerrit.war version\n  gerrit version 3.4.0-rc0-70-g8e74478885-dirty",
      "parentUuid": "e4bec6d7_38321f1d",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 66
      },
      "revId": "51e6b841f46129faeb54382f4d048c6dda08e826",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e32a9ce7_e61fcd67",
        "filename": "gerrit/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-11T10:33:40Z",
      "side": 1,
      "message": "yes, good idea @davido",
      "parentUuid": "69e7ae5a_0e09668b",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 66
      },
      "revId": "51e6b841f46129faeb54382f4d048c6dda08e826",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c412d02_d99010db",
        "filename": "gerrit/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-14T01:17:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e32a9ce7_e61fcd67",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 66
      },
      "revId": "51e6b841f46129faeb54382f4d048c6dda08e826",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}