{
  "comments": [
    {
      "key": {
        "uuid": "92a7473e_2338d780",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-08-14T17:58:38Z",
      "side": 1,
      "message": "Is this meant to be part of the dual-master recipe? If so, I suppose the dual master recipe will evolve into a more generic multi-master/multi-site recipe. Is my assumption correct?",
      "revId": "62106698b63bed81bfc9f608885908ba48a68bec",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39baec9a_ab9343b2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2020-08-14T18:02:52Z",
      "side": 1,
      "message": "Yes, exactly my thinking was that \"multi-site\" recipe will just be two deployments of dual-master with replication and multi-site capabilities.\n\nAs in, if you have another gerrit site somewhere (which possibly you deployed using the same recipe, in a different region), you can \"point\" to it.\n\nThis change allows to be \"pointed to\" by exposing a replication service.\nThe next one allows to \"point to\" by configuring the replication.config accordingly.\n\nThen on top of this we\u0027ll need another CR to configure multi-site plugins and that should be it.\n\nHope it makes sense.",
      "parentUuid": "92a7473e_2338d780",
      "revId": "62106698b63bed81bfc9f608885908ba48a68bec",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cab3dfdd_465166c3",
        "filename": "dual-master/README.md",
        "patchSetId": 10
      },
      "lineNbr": 115,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-08-14T18:03:35Z",
      "side": 1,
      "message": "Can we have more than one replication task? How will the port allocation works?",
      "range": {
        "startLine": 115,
        "startChar": 3,
        "endLine": 115,
        "endChar": 36
      },
      "revId": "62106698b63bed81bfc9f608885908ba48a68bec",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3c06e65_1ba40418",
        "filename": "dual-master/README.md",
        "patchSetId": 10
      },
      "lineNbr": 115,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2020-08-14T18:05:08Z",
      "side": 1,
      "message": "My understanding is that ECS will allocate the tasks where it is possible (i.e. no collisions).\nIf that\u0027s not possible because the cluster is too small, then it will report an error.\n\nI will test this.",
      "parentUuid": "cab3dfdd_465166c3",
      "range": {
        "startLine": 115,
        "startChar": 3,
        "endLine": 115,
        "endChar": 36
      },
      "revId": "62106698b63bed81bfc9f608885908ba48a68bec",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "742f88c4_df4ff27e",
        "filename": "dual-master/README.md",
        "patchSetId": 10
      },
      "lineNbr": 115,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2020-08-14T18:08:35Z",
      "side": 1,
      "message": "The problem is that ECS will try to spin up another task using the same ports, unless I am missing something. This will end up in a collision since the ports are already in use and ECS won\u0027t be able to spin up more than one task.",
      "parentUuid": "c3c06e65_1ba40418",
      "range": {
        "startLine": 115,
        "startChar": 3,
        "endLine": 115,
        "endChar": 36
      },
      "revId": "62106698b63bed81bfc9f608885908ba48a68bec",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}